# -- Dependencies -- 

# Contains all the search stack non-ons dependencies.

version: "3.3"
services:
  sitewideelasticsearch:
    extends:
      file: ${PATH_MANIFESTS}/deps/elasticsearch.yml
      service: sitewideelasticsearch
  mongodb:
    extends:
      file: ${PATH_MANIFESTS}/deps/mongo.yml
      service: mongodb
    volumes:
      - ${PATH_PROVISIONING}/mongo/init.js:/docker-entrypoint-initdb.d/init.js:ro
  zookeeper-1:
    extends:
      file: ${PATH_MANIFESTS}/deps/kafka-confluentinc.yml
      service: zookeeper-1
  kafka-1:
    extends:
      file: ${PATH_MANIFESTS}/deps/kafka-confluentinc.yml
      service: kafka-1
    depends_on:
      - zookeeper-1
  kafka-2:
    extends:
      file: ${PATH_MANIFESTS}/deps/kafka-confluentinc.yml
      service: kafka-2
    depends_on:
      - zookeeper-1
  kafka-3:
    extends:
      file: ${PATH_MANIFESTS}/deps/kafka-confluentinc.yml
      service: kafka-3
    depends_on:
      - zookeeper-1
  kowl:
    extends:
      file: ${PATH_MANIFESTS}/deps/kafka-tools.yml
      service: kowl
    depends_on:
      - zookeeper-1
