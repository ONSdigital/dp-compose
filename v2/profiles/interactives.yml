version: "3.3"
services:
  # deps
  # prometheus:
  #   extends:
  #     file: manifests/deps/prometheus.yml
  #     service: prometheus
  postgis:
    extends:
      file: manifests/deps/postgis.yml
      service: postgis
  vault:
    extends:
      file: manifests/deps/vault.yml
      service: vault
  kafka:
    extends:
      file: manifests/deps/kafka.yml
      service: kafka
  mongodb:
    extends:
      file: manifests/deps/mongo.yml
      service: mongodb
  localstack:
    extends:
      file: manifests/deps/localstack.yml
      service: localstack
  http-echo:
    extends:
      file: manifests/deps/http-echo.yml
      service: http-echo
  zebedee:
    extends:
      file: manifests/core-ons/zebedee.yml
      service: zebedee
  # core-ons
  dp-api-router:
    extends:
      file: manifests/core-ons/dp-api-router.yml
      service: dp-api-router
  florence: # note: this might not build :( manually delete florence/dist florence/src/node_modules florence/assets/data.go 
    extends:
      file: manifests/core-ons/florence.yml
      service: florence
  dp-frontend-router:
    extends:
      file: manifests/core-ons/dp-frontend-router.yml
      service: dp-frontend-router
  dp-frontend-homepage-controller:
    extends:
      file: manifests/core-ons/dp-frontend-homepage-controller.yml
      service: dp-frontend-homepage-controller
  dp-frontend-renderer:
    extends:
      file: manifests/core-ons/dp-frontend-renderer.yml
      service: dp-frontend-renderer
  sixteens:
    extends:
      file: manifests/core-ons/sixteens.yml
      service: sixteens
  # static files
  dp-files-api:
    extends:
      file: manifests/static-files/dp-files-api.yml
      service: dp-files-api
  dp-upload-service:
    extends:
      file: manifests/static-files/dp-upload-service.yml
      service: dp-upload-service
  dp-download-service:
    extends:
      file: manifests/static-files/dp-download-service.yml
      service: dp-download-service
  # interactives
  dp-interactives-importer:
    extends:
      file: manifests/interactives/dp-interactives-importer.yml
      service: dp-interactives-importer
  dp-interactives-api:
    extends:
      file: manifests/interactives/dp-interactives-api.yml
      service: dp-interactives-api
  dp-frontend-interactives-controller:
    extends:
      file: manifests/interactives/dp-frontend-interactives-controller.yml
      service: dp-frontend-interactives-controller
